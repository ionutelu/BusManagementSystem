<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Route Form</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>

<body class="container mt-4">

<h2 th:text="${route != null and route.id != null} ? 'Edit Route' : 'Create Route'"></h2>

<!-- ERROR MESSAGE FROM EXCEPTION HANDLER -->
<div th:if="${errorMessage}" class="alert alert-danger mt-3">
    <span th:text="${errorMessage}"></span>
</div>

<form th:object="${route}"
      th:action="${route != null and route.id != null} ?
                 @{/routes/{id}(id=${route.id})} :
                 @{/routes}"
      method="post"
      class="card p-4 shadow-sm mt-3">

    <!-- ORIGIN -->
    <div class="mb-3">
        <label class="form-label">Origin</label>
        <input type="text" th:field="*{origin}" class="form-control">
    </div>

    <!-- DESTINATION -->
    <div class="mb-3">
        <label class="form-label">Destination</label>
        <input type="text" th:field="*{destination}" class="form-control">
    </div>

    <!-- DISTANCE -->
    <div class="mb-3">
        <label class="form-label">Distance (km)</label>
        <input type="number" th:field="*{distance}" class="form-control">
    </div>

    <div class="d-flex gap-2">
        <button class="btn btn-primary" type="submit">Save</button>
        <a href="/routes" class="btn btn-secondary">Cancel</a>
    </div>

</form>

</body>
</html>

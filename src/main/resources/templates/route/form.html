<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${route.id} == null ? 'Add Route' : 'Edit Route'"></title>
</head>
<body>

<h1 th:text="${route.id} == null ? 'Add Route' : 'Edit Route'"></h1>

<form th:action="@{${route.id} != null
                    ? '/routes/' + ${route.id}
                    : '/routes'}"
      th:object="${route}"
      method="post">

    <div>
        <label for="id">Route ID:</label>
        <input type="text"
               th:field="*{id}"
               id="id"
               th:readonly="${route.id != null}"
               required/>
    </div>

    <div>
        <label for="origin">Origin Station:</label>
        <input type="text"
               th:field="*{origin.name}"
               id="origin"
               required/>
    </div>

    <div>
        <label for="destination">Destination Station:</label>
        <input type="text"
               th:field="*{destination.name}"
               id="destination"
               required/>
    </div>

    <div>
        <label for="distance">Distance (km):</label>
        <input type="number"
               step="0.1"
               th:field="*{distance}"
               id="distance"
               required/>
    </div>

    <div>
        <button type="submit"
                th:text="${route.id == null ? 'Save' : 'Update'}">
            Save
        </button>

        <a th:href="@{/routes}">Cancel</a>
    </div>

</form>

</body>
</html>

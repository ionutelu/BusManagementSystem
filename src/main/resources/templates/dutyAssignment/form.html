<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${dutyAssignment.id == null ? 'Add Duty Assignment' : 'Edit Duty Assignment'}"></title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container mt-4">

<h2 th:text="${dutyAssignment.id == null ? 'Add Duty Assignment' : 'Edit Duty Assignment'}"></h2>

<!-- ERROR MESSAGE -->
<div th:if="${errorMessage != null}" class="alert alert-danger mt-3" role="alert">
    <strong>Eroare:</strong> <span th:text="${errorMessage}"></span>
</div>

<form th:object="${dutyAssignment}"
      th:action="${dutyAssignment.id == null} ? @{/assignments} : @{'/assignments/' + ${dutyAssignment.id}}"
      method="post">

    <!-- Trip ID -->
    <div class="mb-3">
        <label class="form-label">Trip ID</label>
        <input type="number"
               name="tripId"
               class="form-control"
               th:value="${dutyAssignment.busTrip != null ? dutyAssignment.busTrip.id : ''}">
    </div>

    <!-- Staff ID -->
    <div class="mb-3">
        <label class="form-label">Staff ID</label>
        <input type="number"
               name="staffId"
               class="form-control"
               th:value="${dutyAssignment.staff != null ? dutyAssignment.staff.id : ''}">
    </div>

    <!-- Role -->
    <div class="mb-3">
        <label class="form-label">Role</label>
        <select th:field="*{role}" class="form-select">
            <option th:each="r : ${T(com.example.busstation.model.DriverRole).values()}"
                    th:value="${r}"
                    th:text="${r}">
            </option>
        </select>
    </div>

    <button type="submit"
            class="btn btn-primary"
            th:text="${dutyAssignment.id == null ? 'Add Assignment' : 'Update Assignment'}">
    </button>
</form>

<br>
<a th:href="@{/assignments}" class="btn btn-secondary">Back to List</a>

</body>
</html>
